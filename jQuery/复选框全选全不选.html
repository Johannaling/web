<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>复选框全选全不选</title>
</head>
    <body>
        你爱好的运动是？
        <input type="checkbox" id="select">全选/全不选
        <br><input type="checkbox" name="hobby">足球
        <input type="checkbox" name="hobby">篮球
        <input type="checkbox" name="hobby">乒乓球
        <input type="checkbox" name="hobby">羽毛球
    </body>
    <script src="jquery-3.2.1.js"></script>
    <script>
        $(function () {
            var $hobbys=$('input[name="hobby"]');
            var $select=$('#select');
            $select.on('click',function () {
                if (this.checked){
                    $hobbys.prop('checked',true);
                }else{
                    $hobbys.prop('checked',false);
                }
            });
            $hobbys.on('click',function(){
                var flag=true;
                $hobbys.each(function(index,elem,arr){

//                    this.checked=!this.checked;
                    if(!this.checked){
                        flag=false;
                    }
                    if (flag){
                        $select.prop('checked',true);
                    }else{
                        $select.prop('checked',false);
                    }
            });
            });
        });

    </script>
</html>